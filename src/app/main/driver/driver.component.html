<div class="container-fluid p-3">
  <div class="bg-white">
    <div class="d-flex flex-column">
      <div
        class="d-flex justify-content-between align-items-center p-3 bg-dark text-light"
      >
        <h5>Driver's Account</h5>
        <div class="d-flex gap-2 w-25">
          <input
            type="text"
            class="form-control"
            placeholder="Search..."
            [formControl]="searchTem$"
          />
          <button class="btn btn-primary" (click)="createDriver()">Add</button>
        </div>
      </div>
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Fullname</th>
            <th scope="col">Phone</th>
            <th scope="col">Email</th>
            <th scope="col">Status</th>
            <th scope="col">Active Franchise</th>
            <th scope="col">Franchise Number</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let driver of filterDrivers$ | async; index as i">
            <th scope="row">{{ i + 1 }}</th>
            <td>{{ driver.driver?.name }}</td>
            <td>{{ driver.driver?.phone }}</td>
            <td>{{ driver.driver?.email }}</td>
            <td>
              <span
                class="badge"
                [ngClass]="{
                  'text-bg-success': driver?.driver?.active === true,
                  'text-bg-secondary': driver?.driver?.active === false
                }"
              >
                {{ driver?.driver?.active ? "Active" : "Not Active" }}
              </span>
            </td>
            <td>{{ countActiveFranchise(driver.franchises) }}</td>
            <td>{{ getActiveFranchise(driver.franchises) }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
