<div class="container-fluid p-3">
  <div class="d-flex align-items-center justify-content-between">
    <h5>Drivers</h5>

    <button class="btn btn-dark" (click)="createDriver()">Create Driver</button>
  </div>

  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Fullname</th>
        <th scope="col">Phone</th>
        <th scope="col">Email</th>
        <th scope="col">Status</th>
        <th scope="col">Active Franchise</th>
        <th scope="col">Franchise Number</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let driver of drivers$ | async; index as i">
        <th scope="row">{{ i + 1 }}</th>
        <td>{{ driver.driver?.name }}</td>
        <td>{{ driver.driver?.phone }}</td>
        <td>{{ driver.driver?.email }}</td>
        <td>
          <span
            class="badge"
            [ngClass]="{
              'text-bg-success': driver?.driver?.active === true,
              'text-bg-secondary': driver?.driver?.active === false
            }"
          >
            {{ driver?.driver?.active ? "Active" : "Not Active" }}
          </span>
        </td>
        <td>{{ countActiveFranchise(driver.franchises) }}</td>
        <td>{{ getActiveFranchise(driver.franchises) }}</td>
      </tr>
    </tbody>
  </table>
</div>
